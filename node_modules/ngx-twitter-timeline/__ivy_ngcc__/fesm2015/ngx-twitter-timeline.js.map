{"version":3,"file":"ngx-twitter-timeline.js","sources":["ng:/ngx-twitter-timeline/lib/ngx-twitter-timeline.service.ts","ng:/ngx-twitter-timeline/lib/ngx-twitter-timeline.component.ts","ng:/ngx-twitter-timeline/lib/ngx-twitter-timeline.module.ts"],"names":[],"mappings":"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A,AACA,AAEA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAEA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AA7CA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,ACLA,AASA,AAAA,AAmBA,AACA,AAAA,AACA,AAAA,AADA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAXA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAKA,AAEA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AACA,AAAA,AACA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AAEA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AACA,AAAA,AACA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AAAA,AAAA,AAAA,AAEA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAhEA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AACA,AARA,AAAA,AACA,AAAA,AAaA,AAAA,AAIA,AAAA,AClBA,AASA,AAAA,AANA,AAAA,AAAA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA,AAAA,AAAA,AACA,AACA,AAAA,AAAA,AAAA,AAAA,AAAA,AACA","sourcesContent":["import { Injectable } from '@angular/core';\nimport { Observable } from 'rxjs';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class NgxTwitterTimelineService {\n  private TWITTER_SCRIPT_ID = 'twitter-wjs';\n  private TWITTER_WIDGET_URL = 'https://platform.twitter.com/widgets.js';\n\n  constructor() { }\n\n  loadScript(): Observable<any> {\n    return Observable.create(observer => {\n\n      this.startScriptLoad();\n\n      window['twttr'].ready((twttr) => {\n        observer.next(twttr);\n        observer.complete();\n      });\n\n    });\n  }\n\n  private startScriptLoad() {\n    window['twttr'] = (function(d, s, id, url)\n    {\n      let script,\n      firstScriptEl = d.getElementsByTagName(s)[0],\n      twitterScript = window['twttr'] || {};\n      if (d.getElementById(id)) {\n        return twitterScript;\n      }\n\n      script = d.createElement(s);\n      script.id = id;\n      script.src = url;\n      firstScriptEl.parentNode.insertBefore(script, firstScriptEl);\n\n      twitterScript._e = [];\n\n      twitterScript.ready = function(f) {\n        twitterScript._e.push(f);\n      };\n\n      return twitterScript;\n    }(document, 'script', this.TWITTER_SCRIPT_ID, this.TWITTER_WIDGET_URL));\n  }\n}\n","import { Component, ElementRef, Input } from '@angular/core';\nimport { NgxTwitterTimelineService } from './ngx-twitter-timeline.service';\nimport NgxTwitterTimelineData from './ngx-twitter-timeline-data.interface';\nimport NgxTwitterTimelineOptions from './ngx-twitter-timeline-options.interface';\n\n@Component({\n  selector: 'ngx-twitter-timeline',\n  template: ``\n})\nexport class NgxTwitterTimelineComponent {\n/**\n   * The data source definition object for the content to be displayed in the widget.\n   * May be a widget ID string for a search API timeline or legacy widget\n   */\n  @Input() data: NgxTwitterTimelineData;\n  /**\n   * A hash of additional options to configure the widget\n   */\n  @Input() opts: NgxTwitterTimelineOptions;\n  defaultOpts: NgxTwitterTimelineOptions = {\n    tweetLimit: 5\n  };;\n  defaultData: NgxTwitterTimelineData = {\n    sourceType: 'url',\n    url: 'https://twitter.com/twitterdev',\n    screenName: 'twitterdev'\n  };\n\n  constructor(\n    private element: ElementRef,\n    private twitterTimelineService: NgxTwitterTimelineService\n  ) { }\n\n  ngOnChanges() {\n    if (this.data && this.data.sourceType) {\n      switch (this.data.sourceType) {\n        case 'url':\n          delete this.defaultData.screenName;\n          break;\n        case 'profile':\n          delete this.defaultData.url;\n          break;\n        default:\n          break;\n      }\n      this.loadTwitterWidget();\n    }\n  }\n\n  loadTwitterWidget() {\n    this.twitterTimelineService\n      .loadScript()\n      .subscribe(\n        twttr => {\n          let nativeElement = this.element.nativeElement;\n          nativeElement.innerHTML = \"\";\n          window['twttr']\n            .widgets\n            .createTimeline(\n              { ...this.defaultData, ...this.data },\n              nativeElement,\n              { ...this.defaultOpts, ...this.opts }\n            )\n            .then(embed => {\n              // console.log(embed);\n            })\n            .catch(error => console.error(error))\n        },\n        err => console.error(err));\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { NgxTwitterTimelineComponent } from './ngx-twitter-timeline.component';\n\n@NgModule({\n  declarations: [NgxTwitterTimelineComponent],\n  imports: [\n  ],\n  exports: [NgxTwitterTimelineComponent]\n})\nexport class NgxTwitterTimelineModule { }\n"]}